<div id="chunksArea" class="card">
  <div class="card-body p-2">
    <div class="table-responsive">
      <table class="table table-sm table-striped align-middle mb-0">
        <thead>
          <tr>
            <th>Chunk ID</th>
            <th>Section</th>
            <th>Words</th>
            <th>Text</th>
            <th class="text-end">Action</th>
          </tr>
        </thead>
        <tbody>
        {% for r in rows %}
          <tr>
            <td class="text-monospace small">{{ r.chunk_id }}</td>
            <td class="small">{{ r.section }}</td>
            <td class="small">{{ r.n_words }}</td>
            <td style="min-width: 32rem;">
              <div class="chunk-text">{{ r.text | replace('\n','<br>') | safe }}</div>
            </td>
            <td class="text-end" style="white-space:nowrap">
              <button class="btn btn-sm btn-success"
                      hx-post="/edit/{{ qid }}"
                      hx-vals='{"chunk_id":"{{ r.chunk_id }}"}'
                      hx-swap="none"
                      onclick="toast('Updated gold')">Set</button>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <div class="card-footer d-flex justify-content-between align-items-center">
    <div class="small">{{ total }} chunks</div>
    <div class="btn-group">
      <button class="btn btn-outline-secondary btn-sm"
              hx-get="/article" hx-target="#browser"
              hx-vals='{"qid":"{{ qid }}","path":"{{ path }}","bucket":"{{ bucket }}","page_size":{{ page_size }},"page":{{ page|int - 1 if page>1 else 1 }}}'>◀ Prev</button>
      <button class="btn btn-outline-secondary btn-sm"
              hx-get="/article" hx-target="#browser"
              hx-vals='{"qid":"{{ qid }}","path":"{{ path }}","bucket":"{{ bucket }}","page_size":{{ page_size }},"page":{{ page|int + 1 }}}'>Next ▶</button>
    </div>
  </div>
</div>
